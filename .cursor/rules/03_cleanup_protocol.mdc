---
description: When Cleanup is requested
globs: 
alwaysApply: false
---
# Cleanup Protocol

## When User Says "Clean Up"
Execute ALL steps in order:

## Step 1: Archive Temporary Files
- Move temp files to: `.old_temporary_files/[code-name]/`
- Create directory if needed
- Document in cleanup report

## Step 2: Generate Cleanup Report
Create: `.project_management/cleanup_reports/[code-name]_cleanup.org`

### Required Sections:
- **Summary**: What was accomplished, major decisions
- **Files**: Complete list modified/created/deleted with line numbers
- **Reasoning**: Why changes were made, alternatives considered
- **Architecture**: Structural changes, new patterns
- **Issues**: Concerns, incomplete tasks, risks
- **Verification**: Testing performed, integrity checks
- **Context**: Links to conversation logs, related reports

## Step 3: Create Next Steps File
Create: `.project_management/next_steps/[code-name]_next_steps.org`

### Required Content:
- **Immediate Priorities**: First tasks, critical blockers
- **Approach**: Strategy for next model, key files to review
- **Decisions**: Questions needing user input, choice points
- **Handoff**: Current state, incomplete work, resources

## Step 4: Write Handoff Message
Create markdown code block in chat (max 200 words):

```
**[Code Name] ‚Üí Next Model Handoff**

‚úÖ **COMPLETED**: [Brief summary]
üéØ **NEXT PRIORITY**: [Critical task]
üìÅ **KEY FILES**: [Essential files]
‚ö†Ô∏è **IMPORTANT**: [Warnings/context]

üìã **DOCUMENTATION**: 
- Cleanup: `.project_management/cleanup_reports/[code-name]_cleanup.org`
- Next Steps: `.project_management/next_steps/[code-name]_next_steps.org`
- Conversation Log: `.project_management/conversation_logs/[code-name]/[date]_session_log.org`

Ready for seamless handoff! üöÄ
```

## Step 5: Git Automation (FINAL)
- Execute: `python triad-reorganized/scripts/git_cleanup_push.py`
- Commit and push ALL cleanup work to ai-work branch
- Verify successful push
- Document commit hash in conversation log

@.project_management/cleanup_reports/
@.project_management/next_steps/
